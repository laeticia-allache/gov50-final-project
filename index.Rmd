---
title: "Gov 50 Final Project"
author: "Laeticia Allache"
description: "My final project"
output:
  distill::distill_article:
    self_contained: false
---

```{r}
library(tidyverse)
library(haven)
library(sjlabelled)

lmd <- read_dta("LMDindiv merged dataset FINAL cleanedAPR2014.dta") |> 
  filter(cntry == "FR") |>
  mutate(
    int_host_label = sjlabelled::as_label(q1902),
    int_host = case_when(
      q1902 == 4 ~ 1,
      q1902 == 3 ~ 2,
      q1902 == 2 ~ 3,
      q1902 == 1 ~ 4),
    int_home_label = sjlabelled::as_label(q1903),
    int_home = case_when(
      q1903 == 4 ~ 1,
      q1903 == 3 ~ 2,
      q1903 == 2 ~ 3,
      q1903 == 1 ~ 4),
    group_label = sjlabelled::as_label(group),
    algerian_binary = if_else(group_label == "algerian", 1, 0),
    immigrant_label = sjlabelled::as_label(qtype),
    immigrant_binary = if_else(immigrant_label == "immigrant origin", 1, 0)) |>
  select(
    id, cntry, cntry_origin = q3, 
    city, group, group_label, algerian_binary,
    q1902, int_host, int_host_label,
    q1903, int_home, int_home_label,
    immigrant = qtype, immigrant_binary, immigrant_label)
```


## Milestone 1: Project Thoughts

I am interested in exploring data related to Mediterranean migration, more specifically migration between Algeria and France. Following the end of World War II and Algerian Independence in 1961, there have been successive waves of migration from Algeria to France. A great deal of this migration is intimately intertwined with both countries' colonial histories. I am interested in more recent migrations, especially those during and following the black decade and civil war in Algeria during the 1990s, as well as 21st century migration. Additionally, I am interested in the degree of incorporation of these migrants, particularly into government and political positions, I want to ask: To what extent are Algerian immigrants, and those of Algerian ancestry (2nd or 3rd generation immigrants) incorporated into French politics and government?


## Milestone 2: Proposal

I ask the question: To what extent are Algerian migrants incorporated into French politics and government? For the purposes of my project, I define 'Algerian migrants' as inclusive of Algerian migrants and those of Algerian descent in France (generational). My independent variables are the political opportunities afforded to Algerians in France which I will measure using three dimensions. Firstly, I will asses individual rights (right to stay, citizenship), group rights (education, religion, media representation), and finally I will look at local political opportunity structures (policies towards immigrants and immigrants' organizations). My dependent variable is the political integration of Algerians, which I will assess by determining the proportion of Algerians involved in politics (voting, levels at which they hold political office) relative to their demographic size. 
I predict that when opportunities across all three dimensions (individual, group, and political) are low, there will be low political integration of Algerian migrants. If the data contains examples of low education opportunities for Algerians and low political integration in those regions, this would support my hypothesis However, if the data contains examples of low educational opportunities, yet there is high political integration, my hypothesis will be disproved.

I am using data from the Castelli, Morales, et all "LOCALMULTIDEM - Multicultural Democracy and Immigrants' Social Capital in Europe" which studies the political opportunities afforded to migrants in multicultural democracies in Europe. For the purposes of my project, I will only be studying their data on France. Unfortunately, their data does not distinguish between Algerian migrants, and migrants of other backgrounds.


## Distribution of plot of the outcome variable

```{r}
lmd |>
  ggplot(aes(x = int_host)) +
  geom_histogram(aes(y = ..count../sum(..count..)))
```


## Bivariate plot of the explanatory (x) and outcome variable (y)

```{r}
lmd |>
  group_by(algerian_binary) |>
  summarize(int_host = mean(int_host, na.rm = TRUE)) |>
  ggplot(aes(x = algerian_binary, y = int_host)) +
  geom_col()

lmd |>
  ggplot(aes(x = as.factor(algerian_binary), y = int_host)) +
  geom_boxplot()
```

## Multivariate regression table

```{r}
mod1 <- 
  lm(
    data = lmd,
    int_host ~
      algerian_binary + immigrant_binary)

summary(mod1)$coefficients |>
  knitr::kable(digits = 2)
```

